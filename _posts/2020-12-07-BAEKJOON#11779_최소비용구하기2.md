---
layout: post
title: BAEKJOON#11779 μµμ†λΉ„μ© κµ¬ν•κΈ° 2
subtitle: Python
cover-img: /assets/img/posting/mountain.jpg
thumbnail-img: /assets/img/posting/baekjoonrect.png
share-img: /assets/img/posting/mountain.jpg
tags: [λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦, BAEKJOON]
comments: true
---

## [μµμ†λΉ„μ© κµ¬ν•κΈ° 2](https://www.acmicpc.net/problem/11779)

<br>

### λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦

λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦μ„ μ΄μ©ν•λ” λ¬Έμ μ΄λ‹¤.
λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦μ— λ€ν• ν¬μ¤ν…μ€ μ•„λμ λ‘ λ¬Έμ μ—μ„ ν•΄λ†“μ•λ‹¤.

- [μ¤‘λ‰μ ν•](https://youseop.github.io/2020-11-05-BAEKJOON-1939_%EC%A4%91%EB%9F%89%EC%A0%9C%ED%95%9C/)
- [μµλ‹¨κ²½λ΅](https://youseop.github.io/2020-10-19-BAEKJOON-1753%EC%B5%9C%EB%8B%A8%EA%B2%BD%EB%A1%9C/)

'μµμ†λΉ„μ© κµ¬ν•κΈ° 2'λ” κΈ°λ³Έμ μΈ λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦ λ¬Έμ μ— κ²½λ΅ μ°ΎκΈ°κ°€ μ¶”κ°€λ ν•νƒμ΄λ‹¤.

<br>

λ¨Όμ € λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦μ— λ€ν•΄μ„ κ°„λµν•κ² μ§‘κ³  λ„μ–΄κ°€λ³΄μ.

- μ΄κΈ°μ— κ° μ μ μ‹μ‘μ μΌλ΅ λ¶€ν„°μ μµλ‹¨κ±°λ¦¬λ” infμ΄λ‹¤.
- μ‹μ‘μ μΌλ΅λ¶€ν„° λ»—μ–΄λ‚κ°€λ” κ°„μ„ μ„ νƒμƒ‰ν•λ‹¤. κ°„μ„ μ κ°€μ¤‘μΉ λ§νΌ λ„μ°©μ§€μ— μ—…λ°μ΄νΈ ν•΄μ¤€λ‹¤.
- μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ€ μ λ“¤ μ¤‘ μµλ‹¨κ±°λ¦¬κ°€ μµμ†μΈ μ μ„ λ°©λ¬Έν•λ‹¤.
- ν•΄λ‹Ή μ (a)μΌλ΅ λ¶€ν„° λ»—μ–΄λ‚κ°€λ” κ°„μ„ μ„ νƒμƒ‰ν•λ‹¤. μ 'a'μ μ‹μ‘μ μΌλ΅λ¶€ν„° μµλ‹¨κ±°λ¦¬ + κ°„μ„ μ κ°€μ¤‘μΉκ°€ κΈ°μ΅΄μ— μ €μ¥λμ–΄μλ μµλ‹¨κ±°λ¦¬λ³΄λ‹¤ μ‘μ„ λ•, ν•΄λ‹Ή λ…Έλ“μ μµλ‹¨κ±°λ¦¬λ¥Ό μ—…λ°μ΄νΈν•λ‹¤.
- μ΄ κ³Όμ •μ„ λ¨λ“  λ…Έλ“λ¥Ό λ°©λ¬Έν•  λ• κΉμ§€ λ°λ³µν•λ©΄, λ¨λ“  λ…Έλ“μ— λ€ν•΄ μ‹μ‘μ μΌλ΅ λ¶€ν„° μµλ‹¨κ±°λ¦¬λ¥Ό κµ¬ν•  μ μλ‹¤.(λ‹¨, μμ κ°€μ¤‘μΉλ¥Ό κ°€μ§€λ” κ°„μ„ μ΄ μ΅΄μ¬ν•  κ²½μ°μ—λ” μ‚¬μ©ν•  μ μ—†λ‹¤.)

<br>

### κ²½λ΅

μ‹μ‘μ μΌλ΅ λ¶€ν„° μµλ‹¨κ±°λ¦¬μ™€ ν•¨κ», μµμ† λΉ„μ©μ„ κ°–λ” κ²½λ΅μ— ν¬ν•¨λμ–΄ μλ” λ„μ‹μ μ •λ³΄λ„ μ°Ύμ•„λ‚΄μ•Ό ν•λ‹¤.

μ΄λ¥Ό μ„ν•΄ 'way'λ¦¬μ¤νΈλ¥Ό λ§λ“¤μ—λ‹¤. 
μμ κ°’μ„ κ°€μ§€λ” λ…Έλ“λ” μ΅΄μ¬ν•μ§€ μ•μμΌλ΅, μ΄κΈ° κ°’μ€ λ¨λ‘ -1λ΅ μ €μ¥ν•΄ λ‘μ—λ‹¤.
μµλ‹¨ κ²½λ΅λ¥Ό νƒμƒ‰ν•΄ λ‚κ°€λ©΄μ„, 'way' λ¦¬μ¤νΈμ— μµμ† λΉ„μ©μ„ κ°–λ” κ²½λ΅λ΅ μ΄λ™ν•  λ•, ν•΄λ‹Ή λ…Έλ“λ¥Ό λ°©λ¬Έν•κΈ° μ΄μ „ λ…Έλ“λ¥Ό μ €μ¥ν–λ‹¤.

```python
while point:
    w_a, a = hq.heappop(point)
    if a == end:
        print(dp[a])
        break
    if a in bridge:
        for x, w_x in bridge[a]:
            if dp[x] > w_a + w_x:
                #xμ μµλ‹¨κ±°λ¦¬ μ—…λ°μ΄νΈ
                dp[x] = w_a + w_x
                #μ΄μ „ λ…Έλ“ μ €μ¥
                way[x] = a
                #heapqμ— λ…Έλ“ μ¶”κ°€
                hq.heappush(point,[dp[x], x])
```

<br>

1 -> 3 -> 5 λ΅ μ΄λ™ν• κ²½μ°, way[5] = 3, way[3] = 1, way[1] = -1 μ΄λ‹¤.
μ΄ μ •λ³΄λ¥Ό μ‚¬μ©ν•΄ 5κΉμ§€ μ–΄λ–»κ² μ΄λ™ν•΄ μ™”λ”μ§€ μ—­μ¶”μ ν•  μ μλ‹¤.

```python
#κ²½λ΅ λ³µμ›
memo_way=[]
while True:
    memo_way.append(a+1)
    a=way[a]
    if a ==-1:
        break
```



<br>

---

### CODE

```python
import sys
import heapq as hq
read=sys.stdin.readline
inf = sys.maxsize

n=int(read())
m=int(read())

bridge=dict()
for _ in range(m):
    a,b,c=map(int,read().split())
    a,b=a-1,b-1
    if a not in bridge:
        bridge[a]=[]
    bridge[a].append((b,c))

start,end=map(int,read().split())
start,end=start-1,end-1
#μ΄μ „ λ…Έλ“ μ €μ¥
way=list(-1 for _ in range(n))
#startλ΅λ¶€ν„° μµλ‹¨κ±°λ¦¬ μ €μ¥
dp=list(inf for _ in range(n))
dp[start]=0

point=[[0, start]]
#heapqλ¥Ό μ‚¬μ©ν•΄ μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ€ μ λ“¤ μ¤‘ μµλ‹¨κ±°λ¦¬μ μ  νƒμƒ‰
hq.heapify(point)

while point:
    w_a, a = hq.heappop(point)
    if a == end:
        print(dp[a])
        break
    if a in bridge:
        for x, w_x in bridge[a]:
            if dp[x] > w_a + w_x:
                #xμ μµλ‹¨κ±°λ¦¬ μ—…λ°μ΄νΈ
                dp[x] = w_a + w_x
                #μ΄μ „ λ…Έλ“ μ €μ¥
                way[x] = a
                #heapqμ— λ…Έλ“ μ¶”κ°€
                hq.heappush(point,[dp[x], x])

#κ²½λ΅ λ³µμ›
memo_way=[]
while True:
    memo_way.append(a+1)
    a=way[a]
    if a ==-1:
        break

print(len(memo_way))
print(*memo_way[::-1])
```

<br>
ν‹€λ¦° λ¶€λ¶„μ΄ μμ„ μ μμµλ‹λ‹¤. ν”Όλ“λ°± μ£Όμ‹λ©΄ κ³ μΉλ„λ΅ ν•κ² μµλ‹λ‹¤!
κ°μ‚¬ν•©λ‹λ‹¤.π‘

[κΌ­ λ‹¤μ‹ ν’€μ–΄λ³΄κΈ°]
<br>
<br>

---
layout: post
title: BAEKJOON#15683 ê°ì‹œ
subtitle: Python
cover-img: /assets/img/posting/mountain.jpg
thumbnail-img: /assets/img/posting/baekjoonrect.png
share-img: /assets/img/posting/mountain.jpg
tags: [BAEKJOON]
comments: true
---

## [ê°ì‹œ](https://www.acmicpc.net/problem/15683)

CCTVê°€ ê°ì‹œí•  ìˆ˜ ìˆëŠ” êµ¬ì—­ì„ ì°¾ì•„ë‚´ëŠ” êµ¬í˜„ ë¬¸ì œì´ë‹¤.
CCTVì˜ ì¢…ë¥˜ì— ë”°ë¼ ê°ì‹œí•  ìˆ˜ ìˆëŠ” ë°©í–¥ì´ ë‹¤ë¥´ê³ , ë²½ ë„˜ì–´ëŠ” ê°ì‹œí•  ìˆ˜ ì—†ë‹¤.

1~5ë²ˆê¹Œì§€ì˜ CCTVì— ëŒ€í•´ì„œ ê°ê° í•¨ìˆ˜ë¥¼ ì§œ ì£¼ì—ˆë‹¤.
ë„ˆë¬´ ë¬´ì‹í•˜ê²Œ ë³µì‚¬ ë¶™ì—¬ë„£ê¸°ë¡œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì½”ë“œê°€ êµ‰ì¥íˆ ê¸¸ì–´ì¡Œë‹¤...

- 1ë²ˆ CCTVê°€ ê°ì‹œí•  ìˆ˜ ìˆëŠ” ì˜ì—­ì˜ ê²½ìš°ì˜ ìˆ˜ëŠ” ìœ„ì•„ë˜, ì¢Œìš° ì´ë ‡ê²Œ 4ê°€ì§€ê°€ ìˆë‹¤.
- 2ë²ˆ CCTVì˜ ê²½ìš° 2ê°€ì§€
- 3ë²ˆ CCTVì˜ ê²½ìš° 4ê°€ì§€
- 4ë²ˆ CCTVì˜ ê²½ìš° 4ê°€ì§€
- 5ë²ˆ CCTVì˜ ê²½ìš° 1ê°€ì§€

ì´ë ‡ê²Œ ê²½ìš°ì˜ ìˆ˜ë¥¼ í•¨ìˆ˜ì˜ ì¸ìë¡œ ë°›ì•„ì„œ ê·¸ ê²½ìš°ì— ëŒ€í•´ ê°ì‹œí•  ìˆ˜ ìˆëŠ” ì˜ì—­ì˜ ì •ë³´ë¥¼ return í–ˆë‹¤.

```python
def one(direction, a, b):
```

1ë²ˆ CCTVì— ëŒ€í•œ í•¨ìˆ˜ì¸ë°, ê°ì‹œí•  ìˆ˜ ìˆëŠ” ê²½ìš°ì˜ ìˆ˜ 4ê°€ê¸°ì¤‘ í•œ ê°€ì§€ë¥¼ ì„ íƒí•˜ê¸° ìœ„í•œ directionê³¼ CCTVì˜ ìœ„ì¹˜ ì •ë³´ë¥¼ ì¸ìë¡œ ë°›ì•˜ë‹¤. directionì˜ ê°’ì€ 0,1,2,3 ì¤‘ í•˜ë‚˜ì´ë‹¤.

ìœ„ì˜ í•¨ìˆ˜ëŠ” ëª‡ê°œì˜ ì¹¸ì„ ê°ì‹œí•  ìˆ˜ ìˆëŠ”ì§€ì™€, ê°ê°ì˜ ê°ì‹œ ê°€ëŠ¥í•œ ì¹¸ì˜ ì¢Œí‘œë¥¼ returní•œë‹¤.

ê° CCTVë“¤ì´ ê°ì‹œí•  ìˆ˜ ìˆëŠ” ì˜ì—­ì˜ ê²½ìš°ì˜ ìˆ˜ë¥¼ DFSë¡œ ì „ë¶€ íƒìƒ‰í•˜ë©° ì‚¬ê°ì§€ëŒ€ì˜ ìµœì†Œê°’ì„ ì°¾ì•„ëƒˆë‹¤.

- âŒì½”ë“œê°€ êµ‰ì¥íˆ ê¸¸ë‹¤... ì˜¤ëŠ˜ì˜ í¬ìŠ¤íŒ…ì„ í•´ì•¼í•˜ê¸°ì— ì¼ë‹¨ ì´ë ‡ê²Œ ì—…ë¡œë“œ í•˜ì§€ë§Œ, ì¶”í›„ì— ì½”ë“œ ê¸¸ì´ë¥¼ ì¤„ì—¬ì„œ ë‹¤ì‹œ í•œ ë²ˆ í¬ìŠ¤íŒ… í•˜ë„ë¡ í•´ì•¼ê² ë‹¤.âŒ

<br>

### CODE

```python
import sys
read = sys.stdin.readline

n, m = map(int, read().split())
MAP = list(list(map(int, read().split())) for _ in range(n))

CCTV = list()
n_cctv = 0
WALL = list()
count = n*m

for i in range(n):
    for j in range(m):
        if MAP[i][j] == 6:
            WALL.append((i, j))
            count -= 1
        elif MAP[i][j] > 0:
            CCTV.append((MAP[i][j], i, j))
            n_cctv += 1
            count -= 1


def one(direction, a, b):
    point = [0]
    if direction == 0:
        for i in range(n):
            ai = a+i
            if ai < n:
                if MAP[ai][b] == 6:
                    return point
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
    if direction == 1:
        for i in range(n):
            ai = a-i
            if ai >= 0:
                if MAP[ai][b] == 6:
                    return point
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
    if direction == 2:
        for i in range(m):
            bi = b-i
            if bi >= 0:
                if MAP[a][bi] == 6:
                    return point
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
    if direction == 3:
        for i in range(m):
            bi = b+i
            if bi < m:
                if MAP[a][bi] == 6:
                    return point
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
    return point


def two(direction, a, b):
    point = [0]
    if direction == 0:
        for i in range(n):
            ai = a-i
            if ai >= 0:
                if MAP[ai][b] == 6:
                    break
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
        for i in range(n):
            ai = a+i
            if ai < n:
                if MAP[ai][b] == 6:
                    break
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
    if direction == 1:
        for i in range(m):
            bi = b-i
            if bi >= 0:
                if MAP[a][bi] == 6:
                    break
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
        for i in range(m):
            bi = b+i
            if bi < m:
                if MAP[a][bi] == 6:
                    break
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
    return point


def three(direction, a, b):
    point = [0]
    if direction == 0:
        for i in range(n):
            ai = a-i
            if ai >= 0:
                if MAP[ai][b] == 6:
                    break
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
        for i in range(m):
            bi = b+i
            if bi < m:
                if MAP[a][bi] == 6:
                    break
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
    if direction == 1:
        for i in range(n):
            ai = a+i
            if ai < n:
                if MAP[ai][b] == 6:
                    break
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
        for i in range(m):
            bi = b+i
            if bi < m:
                if MAP[a][bi] == 6:
                    break
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
    if direction == 2:
        for i in range(n):
            ai = a+i
            if ai < n:
                if MAP[ai][b] == 6:
                    break
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
        for i in range(m):
            bi = b-i
            if bi >= 0:
                if MAP[a][bi] == 6:
                    break
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
    if direction == 3:
        for i in range(n):
            ai = a-i
            if ai >= 0:
                if MAP[ai][b] == 6:
                    break
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
        for i in range(m):
            bi = b-i
            if bi >= 0:
                if MAP[a][bi] == 6:
                    break
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
    return point


def four(direction, a, b):
    point = [0]
    if direction == 0:
        for i in range(m):
            bi = b+i
            if bi < m:
                if MAP[a][bi] == 6:
                    break
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
        for i in range(n):
            ai = a+i
            if ai < n:
                if MAP[ai][b] == 6:
                    break
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
        for i in range(m):
            bi = b-i
            if bi >= 0:
                if MAP[a][bi] == 6:
                    break
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break

    if direction == 1:
        for i in range(n):
            ai = a-i
            if ai >= 0:
                if MAP[ai][b] == 6:
                    break
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
        for i in range(n):
            ai = a+i
            if ai < n:
                if MAP[ai][b] == 6:
                    break
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
        for i in range(m):
            bi = b-i
            if bi >= 0:
                if MAP[a][bi] == 6:
                    break
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
    if direction == 2:
        for i in range(n):
            ai = a-i
            if ai >= 0:
                if MAP[ai][b] == 6:
                    break
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
        for i in range(m):
            bi = b+i
            if bi < m:
                if MAP[a][bi] == 6:
                    break
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
        for i in range(m):
            bi = b-i
            if bi >= 0:
                if MAP[a][bi] == 6:
                    break
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
    if direction == 3:
        for i in range(n):
            ai = a-i
            if ai >= 0:
                if MAP[ai][b] == 6:
                    break
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
        for i in range(m):
            bi = b+i
            if bi < m:
                if MAP[a][bi] == 6:
                    break
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
        for i in range(n):
            ai = a+i
            if ai < n:
                if MAP[ai][b] == 6:
                    break
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
    return point


def five(direction, a, b):
    point = [0]
    if direction == 0:
        for i in range(n):
            ai = a-i
            if ai >= 0:
                if MAP[ai][b] == 6:
                    break
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
        for i in range(m):
            bi = b+i
            if bi < m:
                if MAP[a][bi] == 6:
                    break
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
        for i in range(n):
            ai = a+i
            if ai < n:
                if MAP[ai][b] == 6:
                    break
                elif MAP[ai][b] == 0:
                    point[0] += 1
                    point.append([ai, b])
                else:
                    continue
            else:
                break
        for i in range(m):
            bi = b-i
            if bi >= 0:
                if MAP[a][bi] == 6:
                    break
                elif MAP[a][bi] == 0:
                    point[0] += 1
                    point.append([a, bi])
                else:
                    continue
            else:
                break
    return point


def DFS(index):
    global count, answer
    if index == n_cctv:
        answer = min(answer, count)
        return
    t, a, b = CCTV[index]
    if t == 1:
        for i in range(4):
            point = one(i, a, b)
            count -= point[0]
            for x, y in point[1:]:
                MAP[x][y] = -1
            DFS(index+1)
            count += point[0]
            for x, y in point[1:]:
                MAP[x][y] = 0
    elif t == 2:
        for i in range(2):
            point = two(i, a, b)
            count -= point[0]
            for x, y in point[1:]:
                MAP[x][y] = -1
            DFS(index+1)
            count += point[0]
            for x, y in point[1:]:
                MAP[x][y] = 0
    if t == 3:
        for i in range(4):
            point = three(i, a, b)
            count -= point[0]
            for x, y in point[1:]:
                MAP[x][y] = -1
            DFS(index+1)
            count += point[0]
            for x, y in point[1:]:
                MAP[x][y] = 0
    if t == 4:
        for i in range(4):
            point = four(i, a, b)
            count -= point[0]
            for x, y in point[1:]:
                MAP[x][y] = -1
            DFS(index+1)
            count += point[0]
            for x, y in point[1:]:
                MAP[x][y] = 0
    if t == 5:
        for i in range(1):
            point = five(i, a, b)
            count -= point[0]
            for x, y in point[1:]:
                MAP[x][y] = -1
            DFS(index+1)
            count += point[0]
            for x, y in point[1:]:
                MAP[x][y] = 0


answer = sys.maxsize
DFS(0)
print(answer)

```

<br>
í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í”¼ë“œë°± ì£¼ì‹œë©´ ê³ ì¹˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤!
ê°ì‚¬í•©ë‹ˆë‹¤.ğŸ‘

[ê¼­ ë‹¤ì‹œ í’€ì–´ë³´ê¸°]
<br>
<br>

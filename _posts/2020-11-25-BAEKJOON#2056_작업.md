---
layout: post
title: BAEKJOON#2056 ì‘ì—…
subtitle: Python
cover-img: /assets/img/posting/mountain.jpg
thumbnail-img: /assets/img/posting/baekjoonrect.png
share-img: /assets/img/posting/mountain.jpg
tags: [ìœ„ìƒì •ë ¬, BAEKJOON]
comments: true
---

## [ì‘ì—…](https://www.acmicpc.net/problem/2056)

ìœ„ìƒì •ë ¬ ë¬¸ì œì— DPê°€ ì¶”ê°€ëœ ì‘ìš© ë¬¸ì œì´ë‹¤.
ë°©í–¥ì„ ëª»ì¡ì•„ì„œ ì´í‹€ì •ë„ í—¤ë§¸ëŠ”ë°, í•˜ë‹¨ì˜ ì•Œê³ ë¦¬ì¦˜ ë¶„ë¥˜ë¥¼ ì°¸ê³ í•´ì„œ DPë¬¸ì œ ë¼ëŠ” ê²ƒì„ í™•ì¸í•œ í›„ì— ê²¨ìš° í’€ ìˆ˜ ìˆì—ˆë‹¤.

ë‹¤ë¥¸ ìœ„ìƒì •ë ¬ ë¬¸ì œì™€ ë™ì¼í•˜ì§€ë§Œ, ì—¬ê¸°ì— DPë¥¼ í™œìš©í•´ í•´ë‹¹ ì‘ì—…ì„ ë§ˆì¹˜ëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„ì„ ì €ì¥í•œë‹¤. ì´ë ‡ê²Œ ê°ê°ì˜ ì‘ì—…ì— ëŒ€í•´ ê±¸ë¦¬ëŠ” ì‹œê°„ë“¤ì„ ì²´í¬í•˜ê³ , ê°€ì¥ í° ê°’ì„ ì¶œë ¥í•˜ë©´ ëœë‹¤.

- bridge - ê°„ì„  ì •ë³´ ì €ì¥
- time - í•´ë‹¹ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„ ì €ì¥
- left - ì„ í–‰ì‘ì—…ì´ í˜„ì¬ ëª‡ê°œ ë‚¨ì•˜ëŠ”ì§€ ì €ì¥
- dp - ì‹œì‘ ì‹œê°„ë¶€í„° í•´ë‹¹ ì‘ì—…ì„ ëë§ˆì¹˜ëŠ”ë° ê¹Œì§€ ê±¸ë¦¬ëŠ” ì‹œê°„ ì €ì¥

```
7
5 0
1 1 1
3 1 2
6 1 1
1 2 2 4
8 2 2 4
4 3 3 5 6
```

ìœ„ì˜ ì…ë ¥ì— ëŒ€í•´ ê·¸ë˜í”„ì™€ DPê°’ì„ ì—…ë°ì´íŠ¸í•´ ë‚˜ê°€ëŠ” ê³¼ì •ì„ ë‚˜íƒ€ë‚´ ë³´ì•˜ë‹¤.

![Crepe](https://i.imgur.com/LC4TaOf.jpg)

### CODE

```python
from collections import deque
import sys
read = sys.stdin.readline

n = int(read())
#ê°„ì„  ì •ë³´ ì €ì¥
bridge = dict()
#ì‘ì—…ì— ê±¸ë¦¬ëŠ” ì‹œê°„ ì €ì¥
time = list(0 for _ in range(n+1))
#ì„ í–‰ì‘ì—…ì´ ëª‡ê°œ ë‚¨ì•˜ëŠ”ì§€ ì €ì¥
left = list(0 for _ in range(n+1))

for i in range(1, 1+n):
    tmp = list(map(int, read().split()))
    if tmp[1] != 0:
        for j in range(2, tmp[1]+2):
            if tmp[j] not in bridge:
                bridge[tmp[j]] = []
            bridge[tmp[j]].append(i)
    left[i] = tmp[1]
    time[i] = tmp[0]
#ì‹œì‘ ì‹œê°„ë¶€í„°, í•´ë‹¹ ì‘ì—…ê¹Œì§€ ê±¸ë¦¬ëŠ” ì‹œê°„ì„ ì €ì¥
dp = list(0 for _ in range(n+1))

point = deque([])
for i in range(1, n+1):
    if left[i] == 0:
        point.append(i)
        #ë°”ë¡œ ì‹œì‘í•  ìˆ˜ ìˆëŠ” ì‘ì—…ì¸ ê²½ìš°,
        #DPë¥¼ í•´ë‹¹ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„ìœ¼ë¡œ ì €ì¥í•´ë†“ëŠ”ë‹¤.
        dp[i] = time[i]

while point:
    a = point.popleft()
    if a in bridge:
        for i in bridge[a]:
            left[i] -= 1
            dp[i] = max(dp[i], dp[a]+time[i])
            if left[i] == 0:
                point.append(i)
print(max(dp))
```

<br>
í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í”¼ë“œë°± ì£¼ì‹œë©´ ê³ ì¹˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤!
ê°ì‚¬í•©ë‹ˆë‹¤.ğŸ‘

[ê¼­ ë‹¤ì‹œ í’€ì–´ë³´ê¸°]
<br>
<br>

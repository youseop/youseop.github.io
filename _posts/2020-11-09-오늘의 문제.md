---
layout: post
title: ì˜¤ëŠ˜ì˜ ë¬¸ì œ - ì „í™”ë²ˆí˜¸ ëª©ë¡, ë¬¸ìì—´ ì§‘í•©
subtitle: Python
cover-img: /assets/img/posting/mountain.jpg
thumbnail-img: /assets/img/posting/baekjoonrect.png
share-img: /assets/img/posting/mountain.jpg
tags: [ì˜¤ëŠ˜ì˜ ë¬¸ì œ]
comments: true
---

## [ì „í™”ë²ˆí˜¸ ëª©ë¡](https://www.acmicpc.net/problem/5052)

Trie ìë£Œêµ¬ì¡°ë¥¼ ì—°ìŠµí•˜ê¸° ìœ„í•´ í•œ ë¬¸ì œ ë” í’€ì—ˆë‹¤.
Trie ìë£Œêµ¬ì¡°ë¥¼ êµ¬í˜„í•œ Classì— ì•½ê°„ì˜ ë³€í˜•ì„ ê°€í•˜ë©´ ë˜ëŠ” ë¬¸ì œì˜€ë‹¤.

'insert'í•¨ìˆ˜ì—ì„œ ìì‹ ë…¸ë“œë“¤ì„ ì¶”ì í•˜ë©° ë‚´ë ¤ê°ˆ ë•Œ, í•´ë‹¹ ë…¸ë“œì˜ dataê°’ì´ ì´ë¯¸ ì¡´ì¬í•œë‹¤ë©´, Falseë¥¼ ë°˜í™˜í•˜ê²Œ ì½”ë“œë¥¼ ë³€ê²½í–ˆë‹¤.

ë¬¸ìì—´ì„ Trieìë£Œêµ¬ì¡°ì— insertí•´ ë‚˜ê°€ë©´ì„œ, Falseê°€ ë°˜í™˜ëœ ê²ƒì„ í™•ì¸í•˜ë©´, ì¶”ê°€ë¥¼ ì¤‘ì§€í•˜ê³  Noë¥¼ ì¶œë ¥í•œë‹¤. ë„ì¤‘ì— Falseê°€ ë°˜í™˜ë˜ì§€ ì•Šê³  ë¬´ì‚¬íˆ forë¬¸ì„ ëë‚¸ë‹¤ë©´ YESë¥¼ ì¶œë ¥í•œë‹¤.

### Plus

ì¶”ê°€ë¡œ, ë‚´ê°€ ì‚¬ìš©í•œ ë°˜ë¡€ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. ë¬¸ì œì—ì„œ ì£¼ì–´ì§„ ì˜ˆì œëŠ” ìœ„ì˜ ë°©ì‹ëŒ€ë¡œë§Œ í•œë‹¤ë©´, ì •ë‹µì´ ë‚˜ì˜¤ì§€ë§Œ ì•„ë˜ì˜ ë°˜ë¡€ì— ëŒ€í•´ì„œëŠ” YESë¥¼ ì¶œë ¥í•  ê²ƒì´ë‹¤. (976ì´ ê²¹ì¹¨ìœ¼ë¡œ NOë¥¼ ì¶œë ¥í•´ì•¼ í•˜ëŠ”ë° ë§ì´ë‹¤.)

Trie ìë£Œêµ¬ì¡°ë¥¼ êµ¬í˜„í•  ë•Œ, ë¬¸ìì—´ì´ ëë‚˜ëŠ” Nodeì—ë§Œ dataë¥¼ ì…ë ¥í–ˆë‹¤. ë”°ë¼ì„œ, 97625999ê°€ insertëœ í›„, 976ì´ insertë¼ë„ 6ì„ ì €ì¥í•œ Nodeì— dataê°’ì´ ì—†ìŒìŒìœ¼ë¡œ Falseë¥¼ returní•˜ì§€ ì•ŠëŠ”ë‹¤.

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„  ì£¼ì–´ì§„ ë²ˆí˜¸ë“¤ ì¤‘ ì§§ì€ ë²ˆí˜¸ë“¤ ë¨¼ì € insertí•˜ë„ë¡ í•´ì•¼í•œë‹¤.
ê·¸ë˜ì„œ ì½”ë“œì— ì „í™”ë²ˆí˜¸ì˜ ê¸¸ì´ì— ë”°ë¼ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.

### ë°˜ë¡€

```
911
97625999
976
```

### CODE

```python
import sys
read=sys.stdin.readline

class Node(object):
    def __init__(self,key,data=None):
        self.key = key
        self.data = data
        self.children = {}

class Trie(object):
    def __init__(self):
        self.head = Node(None)

    #ìœ„ì˜ ë¬¸ì œì—ì„œ ì‚¬ìš©ëœ í•¨ìˆ˜ì™€ ë³€ê²½ëœ ë¶€ë¶„ì´ ìˆìŠµë‹ˆë‹¤.
    def insert(self,string):
        curr_node = self.head

        for char in string:
            #ë¬¸ìì—´ì„ êµ¬ì„±í•˜ëŠ” ë¬¸ìë¥¼ ìˆœì„œëŒ€ë¡œ íƒìƒ‰í•˜ë©° ì˜¬ë¼ê°„ë‹¤.
            #ì´ë•Œ, í•´ë‹¹ ë…¸ë“œì— dataì •ë³´ê°€ ì´ë¯¸ ì €ì¥ë˜ì–´ ìˆìœ¼ë©´,
            #ê²¹ì¹˜ëŠ” ë²ˆí˜¸ë¼ëŠ” ëœ»ì„ìœ¼ë¡œ, Falseë¥¼ ì¶œë ¥í•œë‹¤.
            if char not in curr_node.children:
                curr_node.children[char] = Node(char)
                curr_node = curr_node.children[char]
            else:
                curr_node = curr_node.children[char]
                if curr_node.data:
                    return False
        #ìœ„ì˜ forë¬¸ì—ì„œ returnë˜ì§€ ì•Šê³  ì´ ë¶€ë¶„ê¹Œì§€ ë¬´ì‚¬íˆ ì™”ë‹¤ë©´,
        #ê²¹ì¹˜ëŠ” ë²ˆí˜¸ê°€ ì—†ë‹¤ëŠ” ëœ»ì„ìœ¼ë¡œ True ì¶œë ¥!
        curr_node.data = string
        return True

    def search(self, string):
        curr_node = self.head

        for char in string:
            if char in curr_node.children:
                curr_node = curr_node.children[char]
            else:
                return False

        if curr_node.data != None:
            return True

for _ in range(int(read())):
    n=int(read())
    words=list(read().strip() for _ in range(n))
    #ì—¬ê¸°ì„œ ë¬¸ìì—´ì˜ ê¸¸ì´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬ì„ í•´ì¤˜ì•¼í•œë‹¤!
    words.sort(key= lambda x: len(x))
    word_trie = Trie()
    for w in words:
        if not word_trie.insert(w):
            print('NO')
            break
    else:
        print('YES')
```

<br>

## [ë¬¸ìì—´ ì§‘í•©](https://www.acmicpc.net/problem/14425)

Trie êµ¬ì¡°ì— ëŒ€í•´ ìµí ìˆ˜ ìˆì—ˆë˜ ëœ» ê¹Šì€ í•˜ë£¨ì˜€ë‹¤.
ì´ ë¬¸ì œì— ëŒ€í•´ì„œëŠ” ë”°ë¡œ í¬ìŠ¤íŒ…ì„ í•´ë†“ì•˜ë‹¤.

### CODE

```python
import sys
read = sys.stdin.readline

# ì•„ë˜ì˜ Node, Trie class êµ¬í˜„ ë¶€ë¶„ì€
# [https://alpyrithm.tistory.com/74]
# ì•ŒíŒŒì´ë‹˜ì˜ ë¸”ë¡œê·¸ë¥¼ í† ëŒ€ë¡œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

class Node(object):
    # trie ìë£Œêµ¬ì¡°ë¥¼ ìœ„í•œ node
    def __init__(self, key, data=None):
        self.key = key
        self.data = data
        # dictionary ìë£Œêµ¬ì¡° ì‚¬ìš©
        self.children = {}

class Trie(object):
    def __init__(self):
        self.head = Node(None)

    # ë¬¸ìì—´ ì‚½ì…
    def insert(self, string):
        curr_node = self.head
        # ì‚½ì…í•  string ê°ê°ì˜ ë¬¸ìì— ëŒ€í•´ ìì‹ Nodeë¥¼ ë§Œë“¤ë©° ë‚´ë ¤ê°„ë‹¤.
        for char in string:
            # ìì‹ Nodeë“¤ ì¤‘ ê°™ì€ ë¬¸ìê°€ ì—†ìœ¼ë©´ Node ìƒˆë¡œ ìƒì„±
            if char not in curr_node.children:
                curr_node.children[char] = Node(char)
            # ê°™ì€ ë¬¸ìê°€ ìˆìœ¼ë©´ í•´ë‹¹ ë…¸ë“œë¡œ ì´ë™
            curr_node = curr_node.children[char]

        curr_node.data = string

    # ë¬¸ìì—´ì´ ì¡´ì¬í•˜ëŠ”ì§€ search
    def search(self, string):
        curr_node = self.head

        for char in string:
            if char in curr_node.children:
                curr_node = curr_node.children[char]
            else:
                return False

        if curr_node.data != None:
            return True

n, m = map(int, read().split())

word_trie = Trie()
word_len = list(False for _ in range(501))
# ì£¼ì–´ì§„ ë¬¸ìì—´ê³¼ ê¸¸ì´ê°€ ê°™ì€ ë¬¸ìì—´ì— ëŒ€í•´ì„œë§Œ íƒìƒ‰ì„ ì§„í–‰í•´
# ì‹œê°„ë³µì¡ë„ ì¤„ì´ê¸° ìœ„í•¨

for _ in range(n):
    word = read().strip()
    word_trie.insert(word)
    word_len[len(word)] = True
cnt = 0
for _ in range(m):
    word = read().strip()
    if word_len[len(word)] and word_trie.search(word):
        cnt += 1

print(cnt)
```

<br>

í’€ì–´ì•¼ í•  ë¬¸ì œ

- ìŠ¤íƒ€íŠ¸ íƒì‹œğŸ”¥
- ë¯¸ë„¤ë„
- ì•„ê¸° ìƒì–´
- ì „ê¹ƒì¤„ -2
- ì¹˜ì¦ˆ
- ì†Œê°€ ê¸¸ì„ ê±´ë„ˆê°„ ì´ìœ 
  <br>

<br>
